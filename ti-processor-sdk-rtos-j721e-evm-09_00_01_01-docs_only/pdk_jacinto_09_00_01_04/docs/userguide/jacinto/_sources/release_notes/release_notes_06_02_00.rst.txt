Release Notes - 06_02_00
========================

Introduction
------------

This release notes provides important information that will assist you in using the PDK software package.
This document provides the product information and known issues that are specific to the PDK software package.


What's New
----------

- CPSW
    - SGMII mode
    - QSGMII mode
    - CPTS time stamping
    - Hardware-offload checksum
    - PHY MII loopback
    - Debug and diagnostic features
    - Debug GEL files: SGMII config, diagnostic, status
- CSI2 RX
    - Added Error handling and recovery support
    - Driver now can recover from CRC, ECC, FIFO overflow and Data ID errors
- CSI2 TX
    - Added FVID2 CSIRX driver support
    - Validated RAW8, RAW12, RGB888, YUV422 data formats with single channel transmit on J721E EVM.
- DSS
    - Added DSS DSI Support


Upgrade and Compatibility
-------------------------

- CPSW
    - PHY loopback configuration parameter renamed from *isLoopback* to *CpswPhy_Config.enableLoopback*
    - QSGMII is no longer part of CpswMac_VariantType. Two sub-layer types are now used to describe QSGMII interface: CpswMac_SublayerType.CPSW_MAC_SUBLAYER_QUAD_SERIAL_MAIN and CpswMac_SublayerType.CPSW_MAC_SUBLAYER_QUAD_SERIAL_SUB


Device Support
--------------

- J721E EVM (BOARD=j721e_evm)


Validation Information
----------------------

This release is validated on J721E EVM for the applicable components.
For details on the validated examples refer to the platform specific test report present in **PDK_INSTALL_DIR/docs/test_report** folder.


Tool Chain Information
----------------------

Refer to SDK level documentation for Tool Chain and dependent component version used to validate this release.


Fixed Issues
------------

+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| ID                | Head Line                                                                                                             | Module            | Affected Versions                     | Affected Platforms        |
+===================+=======================================================================================================================+===================+=======================================+===========================+
| PRSDK-7120        | SPI master slave test fails in non-dma callback mode                                                                  | PDK               | PROCESSOR-SDK_06.01.00                | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| PRSDK-7713        | Proxy access causes hard fault in the MCU2_0                                                                          | SCIClient         | PROCESSOR-SDK_06.01.00                | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| PRSDK-5935        | Flashing speed for OSPI with Uniflash 5.0 is very poor (about 7KB/s)                                                  | UNIFLASH          | PROCESSOR-SDK_05.03.00                | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| PRSDK-7495        | Userguide updates for J7 Uniflash are missing                                                                         | UNIFLASH          | PROCESSOR-SDK_06.01.00                | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| ADASVISION-3275   | cpsw - Nimu example hangs if CPSWNIMUAPP_RESTART_PERIOD is low                                                        | CPSW              | SDK_J7_00_09_01_00                    | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| ADASVISION-3277   | cpsw - RTOS/Baremetal loopback test fails in second iteration - mcu2_1/mcu2_0                                         | CPSW              | SDK_J7_00_09_01_00                    | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| ADASVISION-3280   | Cpsw2G - Interrupts won't work for main domain cores(mcu2_1, mpu1_0)                                                  | CPSW              | SDK_J7_00_09_01_00                    | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| ADASVISION-3282   | cpsw - mpu1_0 loopback test fails for heap memory match                                                               | CPSW              | SDK_J7_00_09_01_00                    | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| ADASVISION-3283   | cpsw nimu - dma descriptor not freed error                                                                            | CPSW              | SDK_J7_00_09_01_00                    | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| ADASVISION-3285   | CPSW: Cpsw_handleLinkUp assert randomly                                                                               | CPSW              | SDK_J7_00_09_01_00                    | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| ADASVISION-3290   | [CPSW] [UT]Max Rx frame payload size limited to 1486 instead of 1500 if RxFlowPrms rxMtu not explicitly configured    | CPSW              | SDK_J7_00_09_01_00                    | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| ADASVISION-3785   | [cpsw] Incorrect memcpy for macport list in mcm & CPSW examples                                                       | CPSW              | SDK_J7_01_00_00_00                    | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| ADASVISION-3799   | CPSW: PHY loopback fails with RMII PHY in GESI board                                                                  | CPSW              | SDK_J7_06_01_01                       | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| ADASVISION-3867   | CPSW Nimu - assert in cpsw memutils due to descriptor mismatch                                                        | CPSW              | SDK_J7_06_01_01                       | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| ADASVISION-3868   | cpsw - Nimu example aborts when run on A72                                                                            | CPSW              | SDK_J7_06_02_00                       | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| ADASVISION-3936   | Assertion in CSI2 Rx driver                                                                                           | CSI2-RX           | SDK_J7_06_01_01                       | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| ADASVISION-3691   | [CSIRX DRV]capture with 2.5 Gbps DDR lane speed is failing                                                            | CSI2-RX           | SDK_J7_00_09_00_00                    | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| ADASVISION-3781   | VHWA SDE Foco buffers are not aligned                                                                                 | VHWA_SDE          | SDK_J7_00_09_01_00                    | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| PDK-4767          | QSPI flash writer and diagnostic test failure                                                                         | BOARD             | PDK_J7_01.00.00_RTM                   | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+


Known Issues
------------

+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ID                | Head Line                                                                                                             | Module            | Reported in Release                   | Affected Platforms        | Workaround in this release                                                                                                                                                  |
+===================+=======================================================================================================================+===================+=======================================+===========================+=============================================================================================================================================================================+
| ADASVISION-3745   | Output mismatch when each region requiring 3 TRs                                                                      | VHWA_LDC          | PDK_J7_01.00.00_RTM                   | J721E                     | None                                                                                                                                                                        |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ADASVISION-3747   | DMPAC DOF driver doesn't handle certain SOF case properly                                                             | VHWA_DOF          | PDK_J7_00.09.01                       | J721E                     | This issue is due to shift in flowvector out buffer. While generating the SOF binary map make sure that Paxel rows without any pixel enabled should be in consecutive pair. |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ADASVISION-3747   | Active DP -> HDMI adapter doesn't work                                                                                | DSS               | PDK_J7_00.09.01                       | J721E                     | Use the display that supports Active DP                                                                                                                                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| PROC_BRDS-658     | J7 GESI DB - MAC PORT 0 packet drop seen of 1Gbps Speed                                                               | CPSW              | PDK_J7_00.09.00_Bringup               | J721E                     | MAC port 0 configured at 100Mbps in J721E EVM alpha version (already taken care in driver)                                                                                  |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| PROC_BRDS-659     | J7 Ethernet expansion board causing interference in the GESI MDIO phys                                                | CPSW              | PDK_J7_00.09.00_Bringup               | J721E                     | QSGMII ports should be disabled in J721E EVM alpha version                                                                                                                  |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ADASVISION-3286   | Max Length test Tx completion hangs if cpswHostPort maxRxMtu is exceeded                                              | CPSW              | PDK_J7_00.09.00_Bringup               | J721E                     | Host core should not send packet more than maxRxMtu                                                                                                                         |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ADASVISION-3287   | CPSW MAC loopback fails at RMII mode                                                                                  | CPSW              | PDK_J7_00.09.00_Bringup               | J721E                     | None                                                                                                                                                                        |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ADASVISION-3819   | CPSW SGMII FIFO loopback fails                                                                                        | CPSW              | SDK_J7_06_02_00                       | J721E                     | None                                                                                                                                                                        |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ADASVISION-3974   | CPSW nimu example app hangs when running on A72                                                                       | CPSW              | SDK_J7_06_02_00                       | J721E                     | None                                                                                                                                                                        |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| PRSDK-7893        | Using PROXY 1 for Pinmux cause crash in SDK use cases                                                                 | BOARD             | PDK_TDA_01.09.00                      | J721E                     | Use Proxy 0. (Already taken care in driver)                                                                                                                                 |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| PRSDK-7892        | Noisy output for digital audio diagnostic test                                                                        | BOARD             | PDK_J7_00.09.00_Bringup               | J721E                     | None                                                                                                                                                                        |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| PRSDK-7891        | CPSW RGMII diagnostic test failure                                                                                    | BOARD             | PDK_J7_01.00.00_RTM                   | J721E                     | None                                                                                                                                                                        |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ADASVISION-3744   | VPAC VISS driver doesn't support several valid mux combinations for outputs                                           | VHWA_VISS         | PDK_J7_00.09.01                       | J721E                     | None                                                                                                                                                                        |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ADASVISION-3746   | NF de-queue fails after 30 interation                                                                                 | VHWA_NF           | PDK_J7_00.09.01                       | J721E                     | None                                                                                                                                                                        |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ADASVISION-3754   | ipc remote cores does work on 2nd boot                                                                                | IPC               | PDK_J7_00.09.00                       | J721E                     | None                                                                                                                                                                        |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ADASVISION-3755   | IPC: IPC is not functional in remoteproc mode with current BTCM images                                                | IPC               | PDK_J7_00.09.01                       | J721E                     | None                                                                                                                                                                        |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| PRSDK-8007        | IPC does not allow more than one simultaneous core announcement for all cores                                         | IPC               | PROCESSOR-SDK_06.01.00                | J721E                     | None                                                                                                                                                                        |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| PRSDK-7220        | Warning when LEO PMIC is not present                                                                                  | PM                | PROCESSOR-SDK_06.01.00                | J721E                     | None                                                                                                                                                                        |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| PRSDK-7677        | udma dru tests are failing on c66x and c7x                                                                            | UDMA              | PROCESSOR-SDK_06.02.00                | J721E                     | Sample application works. This is a unit test issue                                                                                                                         |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| PRSDK-7872        | udma HC channel configuration hangs with default parameters                                                           | UDMA              | PROCESSOR-SDK_06.01.00                | J721E                     | After param init explicitly set burstSize = 0x01 (both Tx and Rx param) and burstSize = 128 (for Tx param)                                                                  |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| PRSDK-7747        | MCASP_DeviceLoopback_Test: mcaspCreateChan for McASP2 Rx Failed                                                       | MCASP             | PROCESSOR-SDK_06.02.00                | J721E                     | None                                                                                                                                                                        |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| PRSDK-7890        | QSPI flash operations are failing in DDR & DMA mode                                                                   | SPI               | PROCESSOR-SDK_06.01.00                | J721E                     | None                                                                                                                                                                        |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+


Limitations
-----------

- Active DP -> HDMI adapter doesn't work. As a workaround use the display that supports Active DP
