Release Notes - 06_01_00
========================

Introduction
------------

This release notes provides important information that will assist you in using the PDK software package.
This document provides the product information and known issues that are specific to the PDK software package.


What's New
----------

- CPSW
    - Support for MCU2_1 core on CPSW2G
    - RMII mode
    - PHY bootstrap mode support
    - Support for Port ready callback (port link up)
    - Traffic Shaping/TSN 802.1Qav - Transmit/Receive Rate Limiting: Committed Info Rate/Excess Info Rate
    - QoS/Packet Priority mapping
    - Policer and Network security support
    - Debug and diagnostic features
        - ALE register dump
        - CPSW DMA packet Statistics
        - Debug GEL files - mdio, stats, config

- DSS
    - BT601 output format support

- Board
    - Leo PMIC
        - Support for programming Buck and LDO voltage for AVS Class 0
        - Support for Voltage and Thermal Monitorring
        - Support for programming Leo GPIO
        - Support for ESM, RTC and WDT Programming

- SBL
    - Added AVS support

- ECC/ESM sample application


Upgrade and Compatibility
-------------------------

- CPSW
    - Cpsw_Config.CpswAle_Config - Removed host address unicast entry from ALE_open
    - Cpsw_Config.CpswPhy_Config - Removed resetEnable.
    - Cpsw_MacCommonConfig - merged into Cpsw_Config.
    - CpswDma_OpenTxChPrms - Removed CpswDma_EventCfg and replaced with CpswDma_PktNotifyCb. Variable name change for proxyflag, callback argument
    - CpswDma_OpenRxFlowPrms - Removed CpswDma_EventCfg and replaced with CpswDma_PktNotifyCb. Variable name change for proxyflag, callback argument
    - Cpsw_LinkStateChangeInfo is changed Cpsw_MdioLinkStateChangeInfo
    - CPSW Resource manager - Replaced earlier RM
    - CPSW_CFG_DEV_ERROR is enabled/disabled through build system
    - Below APIs are removed ++ Cpsw_isPhyLinked ++ Cpsw_getLinkStatus

Device Support
--------------

- J721E EVM (BOARD=j721e_evm)


Validation Information
----------------------

This release is validated on J721E EVM for the applicable components.
For details on the validated examples refer to the platform specific test report present in **PDK_INSTALL_DIR/docs/test_report** folder.


Tool Chain Information
----------------------

Refer to SDK level documentation for Tool Chain and dependent component version used to validate this release.


Fixed Issues
------------

+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| ID                | Head Line                                                                                                             | Module            | Affected Versions                     | Affected Platforms        |
+===================+=======================================================================================================================+===================+=======================================+===========================+
| PDK-4385          | QSPI NOR Flash diagnostic test failure                                                                                | BOARD             | PDK_J7_00.09.00_Bringup               | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| PDK-4380          | [UNIFLASH] Flash speed is slow                                                                                        | BOARD             | PDK_J7_00.09.00_Bringup               | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| PDK-4379          | [UNIFLASH] Flash of 14MB app image to OSPI results in failure                                                         | BOARD             | PDK_J7_00.09.00_Bringup               | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| PDK-4374          | Board UART STDIO read/write API doesn't work from C7x core                                                            | BOARD             | PDK_J7_00.09.00_Bringup               | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| PDK-4509          | CSL: DSS: Transperency enable with color key not working                                                              | CSL               | PDK_J7_00.09.00_Bringup               | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| PDK-4616          | [DSS DRV]DSS reports false error on calling VP Stop IOCTL                                                             | DSS               | PDK_J7_00.09.00_Bringup               | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| PDK-4601          | Display port does not initiate link if cable is plugged in after usecase is started                                   | DSS               | PDK_J7_00.09.00_Bringup               | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| PDK-4580          | Dss_convModuletoNode returns wrong value if node is not a pipe                                                        | DSS               | PDK_J7_00.09.00_Bringup               | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| PDK-4571          | eDP does not work with all monitors                                                                                   | DSS               | PDK_J7_00.09.00_Bringup               | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| PDK-4405          | DSS: eDP: when eDP init fails it should return error rathar than trying forever                                       | DSS               | PDK_J7_00.09.00_Bringup               | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| PDK-4398          | eDP display broken in release mode, works in debug mode                                                               | DSS               | PDK_J7_00.09.00_Bringup               | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| PDK-4396          | DSS has intermittent init failures with eDP enabled                                                                   | DSS               | PDK_J7_00.09.00_Bringup               | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| PDK-4632          | IPC mailbox handling will not handle pending messages if interrupts are missed                                        | IPC               | PDK_J7_00.09.00_Bringup               | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| PDK-4606          | Incorrect check for Pitch for RGB format in VISS                                                                      | VHWA              | PDK_J7_00.09.00_Bringup               | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| PDK-4597          | Incorrect Condition check in VISS in GLBCE Init Sequence                                                              | VHWA              | PDK_J7_00.09.00_Bringup               | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| PDK-4410          | Incorrect MSC output when run along with the NF                                                                       | VHWA              | PDK_J7_00.09.00_Bringup               | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| PDK-4329          | LDC Performance is ~450 Mp/s under system load                                                                        | VHWA              | PDK_J7_00.09.00_Bringup               | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| PDK-4322          | VHWA Integration app crashes in release mode with print disabled                                                      | VHWA              | PDK_J7_00.09.00_Bringup               | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| PDK-4271          | In multi-channel mode, VISS asserts in ISR                                                                            | VHWA              | PDK_J7_00.08.00_EA8                   | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| PDK-4356          | NDK example Rx failing intermittently                                                                                 | CPSW              | PDK_J7_00.09.00_Bringup               | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| PDK-4223          | MAC speed test no link up in manual mode                                                                              | CPSW              | PDK_J7_00.09.00_Bringup               | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+
| PDK-4474          | Interrupt assignment not correct in cpsw_soc                                                                          | CPSW              | PDK_J7_00.09.00_Bringup               | J721E                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+


Known Issues
------------

+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ID                | Head Line                                                                                                             | Module            | Reported in Release                   | Affected Platforms        | Workaround in this release                                                                                                                                                  |
+===================+=======================================================================================================================+===================+=======================================+===========================+=============================================================================================================================================================================+
| PDK-4738          | Output mismatch when each region requiring 3 TRs                                                                      | VHWA_LDC          | PDK_J7_01.00.00_RTM                   | J721E                     | None                                                                                                                                                                        |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| PDK-4694          | DMPAC DOF driver doesn't handle certain SOF case properly                                                             | VHWA_DOF          | PDK_J7_00.09.01                       | J721E                     | This issue is due to shift in flowvector out buffer. While generating the SOF binary map make sure that Paxel rows without any pixel enabled should be in consecutive pair. |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| PDK-4698          | Active DP -> HDMI adapter doesn't work                                                                                | DSS               | PDK_J7_00.09.01                       | J721E                     | Use the display that supports Active DP                                                                                                                                     |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| PDK-4224          | Max Length test Tx completion hangs if cpswHostPort maxRxMtu is exceeded                                              | CPSW              | PDK_J7_00.09.00_Bringup               | J721E                     | Host core should not send packet more than maxRxMtu                                                                                                                         |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| PDK-4770          | Cpsw2G - Interrupts won't work for main domain cores(mcu2_1, mpu1_0)                                                  | CPSW              | PDK_J7_01.00.00_RTM                   | J721E                     | Use polling mode for mdio interrupts.                                                                                                                                       |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| PDK-4633          | CPSW RGMII loopback fails at RGMII 100Mbps & RMII mode                                                                | CPSW              | PDK_J7_00.09.00_Bringup               | J721E                     | Internal loopback works at 1Gbps                                                                                                                                            |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| PROC_BRDS-658     | J7 GESI DB - MAC PORT 0 packet drop seen of 1Gbps Speed                                                               | CPSW              | PDK_J7_00.09.00_Bringup               | J721E                     | MAC port 0 configured at 100Mbps                                                                                                                                            |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| PDK-4673          | Using PROXY 1 for Pinmux cause crash in SDK use cases                                                                 | BOARD             | PDK_TDA_01.09.00                      | J721E                     | Use Proxy 0. (Already taken care in driver)                                                                                                                                 |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| PDK-4367          | Noisy output for digital audio diagnostic test                                                                        | BOARD             | PDK_J7_00.09.00_Bringup               | J721E                     | None                                                                                                                                                                        |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| PDK-4732          | Audio diagnostic test failure                                                                                         | BOARD             | PDK_J7_01.00.00_RTM                   | J721E                     | Run the McASP driver example                                                                                                                                                |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| PDK-4731          | R5 diag test hang while running framework                                                                             | BOARD             | PDK_J7_01.00.00_RTM                   | J721E                     | run diagnostic tests without famework                                                                                                                                       |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| PDK-4724          | CPSW RGMII diagnostic test failure                                                                                    | BOARD             | PDK_J7_01.00.00_RTM                   | J721E                     | None                                                                                                                                                                        |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| PDK-4767          | QSPI flash writer and diagnostic test failure                                                                         | BOARD             | PDK_J7_01.00.00_RTM                   | J721E                     | None                                                                                                                                                                        |
+-------------------+-----------------------------------------------------------------------------------------------------------------------+-------------------+---------------------------------------+---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+


Limitations
-----------

- None
